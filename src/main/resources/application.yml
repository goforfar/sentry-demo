server:
  port: 8080

spring:
  application:
    name: sentry-demo

  # H2数据库配置
  datasource:
    # 使用 p6spy 前缀以启用 Sentry 的数据库查询 Span 追踪
    url: jdbc:p6spy:h2:mem:testdb
    driver-class-name: com.p6spy.engine.spy.P6SpyDriver
    username: sa
    password:

  # H2控制台配置（可选，用于查看数据库内容）
  h2:
    console:
      enabled: true
      path: /h2-console

  # JPA配置
  jpa:
    database-platform: org.hibernate.dialect.H2Dialect
    hibernate:
      ddl-auto: create-drop
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        use_sql_comments: true

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: always

logging:
  level:
    root: INFO
    com.example.demo: DEBUG
    io.sentry: DEBUG

sentry:
#  dsn: http://bc56ff44f0fb886609c8aa2b08124b78@192.168.0.99:9000/3
  dsn: https://13721a440e641634c7897544a16ca1b7@o4510666582982656.ingest.us.sentry.io/4510667645648896
#  dsn: http://e560a1f41f182a9da26ee73102f1239f@127.0.0.1:9000/2
  # Add data like request headers and IP for users,
  # see https://docs.sentry.io/platforms/java/guides/spring-boot/data-management/data-collected/ for more info
  send-default-pii: true
  logs.enabled: true
  # Set traces_sample_rate to 1.0 to capture 100%
  # of transactions for tracing.
  # We recommend adjusting this value in production.
  traces-sample-rate: 1.0
  profile-session-sample-rate: 1.0
  profile-lifecycle: TRACE
